<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
      
</head>
<body>
  <div id="s">
    <div id="d">
      <input type="checkbox" id="dmode">
      <label for="dmode" id="dbtn"></label>
      </div>
    </div>

      <div id="main">
        <div id="section">
           
            <input type="text" id="input" placeholder="Enter the task.."><br>
            <button id="btn">click </button>
            <button id="clrAll">Clear All</button>
            <div id="result"></div>
        </div>
      </div>
      
      <script>
        let txtinp = document.getElementById("input");
        let btn = document.getElementById("btn");
        let dbtn = document.getElementById("dbtn")
        let result = document.getElementById("result");
        let arr = []
        let clrAll = document.getElementById('clrAll');
        let bool = true
      
        window.addEventListener("load", function () {
            if (localStorage.getItem("arr")) {
                const parsedArr = JSON.parse(localStorage.getItem("arr"))
                displayToDo(parsedArr)
            }
        })
      
        // create
        btn.addEventListener("click", function () {
            


            // displayToDo(arr)
            if (localStorage.getItem("arr")) {
                const ParsedArr = JSON.parse(localStorage.getItem("arr"))
                ParsedArr.push(input.value)
                displayToDo(ParsedArr)
                localStorage.setItem("arr", JSON.stringify(ParsedArr))
            } else{
              arr.push(input.value)
              localStorage.setItem("arr",JSON.stringify(arr))
              displayToDo(arr)
            }
        })
      
        //    read
        function displayToDo(arr) {
            result.innerHTML = ""
            for (let i = 0; i < arr.length; i++) {
                result.innerHTML += `
           
            <li>${arr[i]}</li>
          
            `
            }
        }
        // clrAll
        clrAll.addEventListener("click", function () {
            arr.length = 0
            displayToDo()
        })
      
        // //    DELETE
        function Delete(i) {
            arr.splice(i, 1)
            displayToDo(arr)
        }
      
        dmode.addEventListener("click", function () {
            if(bool == true){
            result.style.background = "black";
            result.style.color = "white"
            
            input.style.background="black";
            input.style.color="white";
            section.style.background="black";
            btn.style.background="orange";
            clrAll.style.background="pink";
            dbtn.classList = "fa-solid fa-moon fa-xl"
            bool = false;
           
          }else{
            result.style.background = "white";
            result.style.color = "black"
           
            input.style.background="white";
            input.style.color = "black"
            section.style.background="blanchedalmond";
            section.style.color = "black";
            btn.style.background="blue"
            clrAll.style.background="blue"
            dbtn.classList = "fa-solid fa-sun fa-xl"
            bool = true;
          }
        })
      
      </script>
</body>
</html>




